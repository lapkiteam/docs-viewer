# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ StaticSiteWithAuth

–ú—ã —Å –ê–¥–∞–ª–∏–Ω–¥–æ–π –ø–∏—à–µ–º —Ç–µ–∫—Å—Ç–æ–≤—É—é –∏–≥—Ä—É—à–∫—É –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º –≤—Å—ë —ç—Ç–æ –¥–µ–ª–æ –≤ Docusaurus. –®—Ç—É–∫–∞ –æ—Ç–ª–∏—á–Ω–∞—è: –Ω–∞ –≤—Ö–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç Markdown, –Ω–∞ –≤—ã—Ö–æ–¥–µ –¥–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç. –ï–≥–æ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞—Ö–æ—Å—Ç–∏—Ç—å, –∫ –ø—Ä–∏–º–µ—Ä—É, –Ω–∞ GitHub Pages –∏ –æ–Ω —Å—Ç–∞–Ω–µ—Ç –≤–∏–¥–µ–Ω... –¥–ª—è –≤—Å–µ—Ö. –í–æ—Ç –∫–∞–∫ —Ä–∞–∑ –≤—Å–µ–º –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –º—ã –Ω–µ —Ö–æ—Ç–∏–º. –ü–æ—ç—Ç–æ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–∞–∫–æ–µ-—Ç–æ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª–∏—Ç —á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º.

## –†–µ—à–µ–Ω–∏—è

–ù–∞–ø–∏—à—É —Ç–æ, —á—Ç–æ —è –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–µ—Ä–µ–±—Ä–∞–ª, –Ω–æ —Ç–∞–∫ –Ω–∏ —Ä–∞–∑—É –Ω–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª:

* GitHub Enterprise
* –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —ç—Ç–æ —Ä–µ—à–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ nginx —Å –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –≤–æ–ª—à–µ–±–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π, –Ω–æ –Ω–∞ –ø–æ–∑–Ω–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –º–æ–Ω—Å—Ç—Ä–∞ —É—Ö–æ–¥–∏—Ç –∫—É—á–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Å–∏–ª. –ù—É –µ–≥–æ –Ω–∞—Ñ–∏–≥
* –¢–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å —Ä–∞–±–æ—á–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º StaticSiteWithAuth

## –ö–∞–∫ —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å

* –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º StaticSiteWithAuth –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ –ª–∏–±–æ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –ª–∏–±–æ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ docker'–∞. –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤–æ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–µ—à–µ–≤–ª–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ üëª
* –ó–∞–¥–∞–µ–º `config.yaml` (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤–∑—è–ª YAML, –Ω–æ –º–æ–∂–Ω–æ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç):

  ```yaml
  users:
    - adalapki:
        password: –æ–±—ã—á–Ω—ã–π-–ø–∞—Ä–æ–ª—å
    - agentlapki:
        password: –Ω—É-–æ—á–µ–Ω—å-—Å–ª–æ–∂–Ω—ã–π-–ø–∞—Ä–æ–ª—å
    - bogdan:
        password: —Å—Ç–æ–ø-—Ç—ã-—á—Ç–æ-–ø–æ–¥–≥–ª—è–¥—ã–≤–∞–µ—à—å?!
  ```

* –ó–∞–∫–∏–¥—ã–≤–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –ø–∞–ø–∫—É `site` (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∞ [–Ω–∏–∂–µ](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤-–∏-–ø–∞–ø–æ–∫))
* –ó–∞–∫–∏–¥—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π `index.html` –≤ –ø–∞–ø–∫—É `auth` (API —Ä–∞—Å–ø–∏—Å–∞–ª [–Ω–∏–∂–µ](#–ø—Ä–∏–º–µ—Ä–Ω–æ–µ-api))
* –ó–∞–ø—É—Å–∫–∞–µ–º —ç—Ç—É –º–∞—Ö–∏–Ω—É

–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–∂–Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ –º–µ–Ω—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `site`, —Ç.–µ. –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç–∏–∫—É.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫

```ts
root
‚îú‚îÄauth
‚îÇ ‚îú‚îÄpublic
‚îÇ ‚îÇ ‚îú‚îÄ...
‚îÇ ‚îÇ ‚îî‚îÄlogo.png
‚îÇ ‚îú‚îÄ...
‚îÇ ‚îî‚îÄindex.html
‚îú‚îÄsite
‚îÇ ‚îú‚îÄassets
‚îÇ ‚îú‚îÄblog
‚îÇ ‚îú‚îÄdocs
‚îÇ ‚îú‚îÄ...
‚îÇ ‚îú‚îÄ404.html
‚îÇ ‚îî‚îÄindex.html
‚îú‚îÄ... // —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
‚îî‚îÄconfig.yml
```

## –ü—Ä–∏–º–µ—Ä–Ω–æ–µ API

* `GET /auth` ‚Äî (–ø—É–±–ª–∏—á–Ω—ã–π API) –æ—Ç–¥–∞–µ—Ç `auth/index.html`
* `GET /auth/static/*` ‚Äî (–ø—É–±–ª–∏—á–Ω—ã–π API) –æ—Ç–¥–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ `auth/public` (–∏–ª–∏ –ª—É—á—à–µ –ø—Ä–æ—Å—Ç–æ –≤ `public`?)
* `POST /auth`

  –ó–∞–ø—Ä–æ—Å –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ —Å –ø–æ–ª–µ–º `Authorization: Basic $(echo '$username:$password' | base64)`.

  –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å:

  * `200 OK`

    –° –ø–æ–ª–µ–º `Set-Cookie: sessionId=?; HttpOnly` –≤ –∫–∞—á–µ—Å—Ç–≤–µ —É—Å–ø–µ—Ö–∞.

    –ö–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å `sessionId` ‚Äî —Ñ–∏–≥ –µ–≥–æ –∑–Ω–∞–µ—Ç. –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—É (`$username`, `$password`) —Å–∫–≤–æ–∑—å –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å —Ñ—É–Ω–∫—Ü–∏—é —Å –∑–∞–¥–∞–Ω–Ω—ã–º –≤ –∫–æ–Ω—Ñ–∏–≥–µ `seed`'–æ–º –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —á—Ç–µ–Ω–∏—è, –∞ –º–æ–∂–Ω–æ –≤–ª–µ–ø–∏—Ç—å –≥–æ–ª—ã–π –ø–∞—Ä–æ–ª—å, –µ—Å–ª–∏ –ª–µ–Ω—å –¥–µ–ª–∞—Ç—å, –ª–æ–ª
  * `403 Forbidden`

* `GET *` (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π API)

  –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–æ—É—Ç—ã –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –ø–∞–ø–∫–µ `site`, –≥–¥–µ –∏ –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω, –∫ –ø—Ä–∏–º–µ—Ä—É, Docusaurus. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Docusaurus –≤ [–≤–µ—Ç–∫–µ gh-pages funnysockorg.github.io](https://github.com/funnysockorg/funnysockorg.github.io/tree/gh-pages).

  –ü—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ —ç—Ç–æ–º—É —Ä–æ—É—Ç—É –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –∫—É–∫–∏ —Å `sessionId`. –ï—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç, —Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `/auth`.
